<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VOID_LEGENDY :: SPEED DAEMON</title>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=VT323&display=swap" rel="stylesheet">
    <style>
        /* Your existing cyberpunk styles */
        body {
            margin: 0;
            padding: 0;
            background-color: #0a0a0a;
            color: #00ff41;
            font-family: 'VT323', monospace;
            overflow-x: hidden;
        }
        
        .cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            background-color: #00ff41;
            border-radius: 50%;
            pointer-events: none;
            mix-blend-mode: difference;
            z-index: 9999;
        }
        
        .glitch-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="1" stitchTiles="stitch"/><feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.05 0"/></filter><rect width="100%" height="100%" filter="url(%23noise)"/></svg>');
            opacity: 0.03;
            pointer-events: none;
            z-index: 9998;
        }
        
        /* Spotify Player Styles */
        .music-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 320px;
            background: rgba(10, 10, 10, 0.9);
            border: 1px solid #00ff41;
            font-family: 'Share Tech Mono', monospace;
            color: #00ff41;
            padding: 10px;
            z-index: 1000;
            box-shadow: 0 0 15px rgba(0, 255, 65, 0.3);
        }
        
        .player-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .player-title {
            color: #00ff41;
        }
        
        .player-close {
            cursor: pointer;
            color: #ff5555;
        }
        
        .player-close:hover {
            color: #ff0000;
        }
        
        .track-info {
            margin-bottom: 10px;
            font-size: 0.9rem;
        }
        
        #now-playing {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .spotify-embed {
            margin-top: 10px;
            height: 80px;
        }
        
        .player-btn {
            background: transparent;
            border: 1px solid #00ff41;
            color: #00ff41;
            padding: 5px 10px;
            cursor: pointer;
            font-family: 'Share Tech Mono', monospace;
            transition: all 0.2s ease;
            margin-top: 10px;
        }
        
        .player-btn:hover {
            background: rgba(0, 255, 65, 0.2);
        }
        
        .track-list {
            margin-top: 10px;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .track-item {
            padding: 5px 0;
            cursor: pointer;
            border-bottom: 1px dashed #00aa00;
        }
        
        .track-item:hover {
            color: #00ff00;
        }

        /* Your existing content styles remain unchanged */
    </style>
</head>
<body>
    <!-- Your existing body content remains the same until the music player -->
    
    <!-- Add this Spotify Player section before closing </body> tag -->
    <div class="music-player" id="music-player" style="display: none;">
        <div class="player-header">
            <span class="player-title">[SPOTIFY TOP TRACKS v1.3.37]</span>
            <span class="player-close" id="close-player">[TERMINATE]</span>
        </div>
        <div class="track-info">
            <div id="now-playing">[SYSTEM READY]</div>
            <div class="track-list" id="track-list"></div>
        </div>
        <div class="spotify-embed">
            <iframe id="spotify-embed" 
                    width="100%" 
                    height="80" 
                    frameborder="0" 
                    allowtransparency="true" 
                    allow="encrypted-media"
                    loading="lazy">
            </iframe>
        </div>
        <button id="load-tracks-btn" class="player-btn">LOAD TOP 5 TRACKS</button>
    </div>

    <script>
        // Spotify Configuration (Development Only)
        const clientId = 'e12b3e0290a84e74a7546a53de4709c9';
        const clientSecret = 'cc0ff2f89da3499787c7cc05c2f8df1d';
        
        // Player elements
        const musicPlayer = document.getElementById('music-player');
        const closePlayer = document.getElementById('close-player');
        const spotifyEmbed = document.getElementById('spotify-embed');
        const nowPlaying = document.getElementById('now-playing');
        const trackList = document.getElementById('track-list');
        const loadTracksBtn = document.getElementById('load-tracks-btn');
        const musicBtn = document.getElementById('music-btn');

        // Get Spotify token (simple client-side implementation)
        async function getSpotifyToken() {
            nowPlaying.textContent = '[AUTHENTICATING...]';
            try {
                const response = await fetch('https://accounts.spotify.com/api/token', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                        'Authorization': 'Basic ' + btoa(clientId + ':' + clientSecret)
                    },
                    body: 'grant_type=client_credentials'
                });
                const data = await response.json();
                return data.access_token;
            } catch (error) {
                console.error('Error getting token:', error);
                nowPlaying.textContent = '[AUTH ERROR]';
                return null;
            }
        }

        // Get top tracks (demo version - will need OAuth for real user data)
        async function getTopTracks() {
            nowPlaying.textContent = '[FETCHING TRACKS...]';
            const token = await getSpotifyToken();
            if (!token) return [];
            
            try {
                // Note: This endpoint requires user authentication
                // For demo purposes, we'll use a hardcoded playlist
                const response = await fetch('https://api.spotify.com/v1/playlists/37i9dQZF1EIgNZCaOGb0Mi/tracks?limit=5', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                const data = await response.json();
                return data.items.map(item => item.track);
            } catch (error) {
                console.error('Error fetching tracks:', error);
                nowPlaying.textContent = '[TRACK LOAD ERROR]';
                return [];
            }
        }

        // Display tracks in list
        function displayTracks(tracks) {
            trackList.innerHTML = '';
            tracks.forEach((track, index) => {
                const trackElement = document.createElement('div');
                trackElement.className = 'track-item';
                trackElement.textContent = `${index + 1}. ${track.name} - ${track.artists[0].name}`;
                trackElement.addEventListener('click', () => playTrack(track));
                trackList.appendChild(trackElement);
            });
        }

        // Play selected track
        function playTrack(track) {
            nowPlaying.textContent = `[NOW PLAYING: ${track.name}]`;
            spotifyEmbed.src = `https://open.spotify.com/embed/track/${track.id}?utm_source=generator&theme=0`;
        }

        // Load tracks button
        loadTracksBtn.addEventListener('click', async function() {
            const tracks = await getTopTracks();
            if (tracks.length > 0) {
                displayTracks(tracks);
                playTrack(tracks[0]);
            } else {
                nowPlaying.textContent = '[NO TRACKS FOUND]';
            }
        });

        // Toggle player visibility
        musicBtn.addEventListener('click', function() {
            musicPlayer.style.display = musicPlayer.style.display === 'none' ? 'block' : 'none';
        });

        closePlayer.addEventListener('click', function() {
            musicPlayer.style.display = 'none';
        });

        // Your existing cursor and other scripts remain unchanged
        const cursor = document.querySelector('.cursor');
        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });
    </script>
</body>
</html>